<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Calico Architecture Overview &mdash; Project Calico 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Project Calico 0.0.1 documentation" href="index.html" />
    <link rel="next" title="Calico Component Architecture" href="arch-felix-and-acl.html" />
    <link rel="prev" title="Welcome to Calico" href="home.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="arch-felix-and-acl.html" title="Calico Component Architecture"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="home.html" title="Welcome to Calico"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Project Calico 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="calico-architecture-overview">
<h1>Calico Architecture Overview<a class="headerlink" href="#calico-architecture-overview" title="Permalink to this headline">¶</a></h1>
<p>Calico was designed from the ground up to be simple, secure, scalable,
and applicable to a range of workload environments including traditional
hypervisors, lightweight containers, and bare metal.</p>
<p>Calico has a relatively simple architecture. Where possible it leverages
existing open source projects – in particular, much of the actual
routing and security enforcement is implemented by the existing Linux
kernel networking subsystem.</p>
<p>The diagram below illustrates Calico and its components.</p>
<div class="figure">
<img alt="Calico Architecture" src="_images/calico_overall_architecture_july_2014.png" />
<p class="caption">Calico Architecture</p>
</div>
<div class="section" id="neutron-plug-in">
<h2>Neutron Plug-in<a class="headerlink" href="#neutron-plug-in" title="Permalink to this headline">¶</a></h2>
<p>For OpenStack integration, Calico includes a Neutron plug-in.</p>
</div>
<div class="section" id="felix">
<h2>Felix<a class="headerlink" href="#felix" title="Permalink to this headline">¶</a></h2>
<p>The Felix component of Project Calico acts as a forwarding enforcement
point, interfacing with the Linux kernel. It ensures that routes to the
local VMs are programmed into the vRouter’s FIB. It also enforces
security policy, by compiling configured ACL rules and programming them
into the Linux kernel.</p>
</div>
<div class="section" id="vrouter">
<h2>vRouter<a class="headerlink" href="#vrouter" title="Permalink to this headline">¶</a></h2>
<p>Project Calico uses the native Linux IP forwarding engine as the virtual
router. This supports both:</p>
<ul class="simple">
<li>the forwarding of inbound and outbound packets according to rules
programmed into the kernel by Felix, and</li>
<li>enforcement of security policy by the checking of all inbound and
outbound packets against the access control list (ACL) rules
programmed into the kernel by Calico.</li>
</ul>
<p>Developers modifying Calico to target host operating systems other than
Linux, or where data plane acceleration is required (either in software
or hardware), may choose to make use of alternative virtual router
implementations provided they perform these two functions.</p>
</div>
<div class="section" id="bgp-client-bird">
<h2>BGP Client (BIRD)<a class="headerlink" href="#bgp-client-bird" title="Permalink to this headline">¶</a></h2>
<p>In Project Calico we use BIRD as the host’s BGP client, but others could
be adapted to work. For example,</p>
<ul class="simple">
<li>Quagga should work (with appropriate configuration scripts)</li>
<li>Metaswitch plans to offer commercially supported distributions
including Metaswitch’s own DC-BGP stack.</li>
</ul>
</div>
<div class="section" id="bgp-route-reflector">
<h2>BGP Route Reflector<a class="headerlink" href="#bgp-route-reflector" title="Permalink to this headline">¶</a></h2>
<p>Optionally, for scalability, you may choose to deploy Calico with a BGP
route reflector. This is not part of the base Project Calico
distribution, but could be implemented with any number of
hardware-based, open source or commercial software solutions including
BIRD, Quagga, and Metaswitch’s AX1000 Virtual Route Reflector.</p>
</div>
<div class="section" id="interconnect-infrastructure">
<h2>Interconnect Infrastructure<a class="headerlink" href="#interconnect-infrastructure" title="Permalink to this headline">¶</a></h2>
<p>The only requirement of the infrastructure that interconnects the
vRouter nodes (the compute servers) is that it can carry L3 packets
between routers. It could be a Layer 2 (Ethernet) network, an MPLS
network, or an L3 routed network.</p>
<p>Typically, however, there will be some form of L2 Ethernet network that
will interconnect the vRouters within a single domain (say a pod or a
data center), and an L3 network that interconnects those domains.</p>
<p>It is important to note, in the case of an L2 network, that that network
is only learning and connecting the fairly static collection of
vRouters, <em>not</em> the actual end-points (guests or VNFCis) in the network.
The number of MAC addresses is equivalent to the number of compute
servers in the cloud, and the topology will rarely change.</p>
<p>Furthermore, the vRouters can leverage equal-cost multi-path routing
(ECMP) to allow for load-distribution at the vRouter level, rather than
at the top of rack switch. You could have 2 (or more) “leaf-spine”
networks, and each of those networks would be connected to each vRouter.
The vRouters would then learn, and distribute traffic evenly over each
of those “planes” of leaf-spine backbone.</p>
<p>However, the fundamental point is that Project Calico will work with any
network technology or topology that will transport L3 packets. Hence, it
places minimal demands on the physical infrastructure, allowing for use
of the most cost-effective switching hardware.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Calico Architecture Overview</a><ul>
<li><a class="reference internal" href="#neutron-plug-in">Neutron Plug-in</a></li>
<li><a class="reference internal" href="#felix">Felix</a></li>
<li><a class="reference internal" href="#vrouter">vRouter</a></li>
<li><a class="reference internal" href="#bgp-client-bird">BGP Client (BIRD)</a></li>
<li><a class="reference internal" href="#bgp-route-reflector">BGP Route Reflector</a></li>
<li><a class="reference internal" href="#interconnect-infrastructure">Interconnect Infrastructure</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="home.html"
                        title="previous chapter">Welcome to Calico</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="arch-felix-and-acl.html"
                        title="next chapter">Calico Component Architecture</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/arch-overview.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="arch-felix-and-acl.html" title="Calico Component Architecture"
             >next</a> |</li>
        <li class="right" >
          <a href="home.html" title="Welcome to Calico"
             >previous</a> |</li>
        <li><a href="index.html">Project Calico 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Metaswitch Networks.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>